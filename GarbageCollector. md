# Garbage Collector (.NET 10)

## Введение

Garbage Collector (GC) — это автоматический сборщик мусора в .NET, который управляет памятью, освобождая ресурсы, которые больше не используются программой. Основная задача GC — **обеспечить эффективное использование оперативной памяти**, уменьшить риск утечек и сбоев, а также поддерживать стабильную работу приложений.

В .NET 10 GC получил **несколько ключевых улучшений**, включая:

- AI-Predictive GC — прогнозирование пикового потребления памяти;
- Параллельную компактацию Large Object Heap (LOH);
- Адаптивные пороги и Tiered Memory для многопоточных приложений;
- Расширенную телеметрию и мониторинг.

Эти нововведения особенно важны для **облачных сервисов, мобильных приложений и AI/ML решений**.

---

## Основные принципы работы GC

.NET использует **поколенческую модель**:

| Поколение | Тип объектов | Частота сборки |
|-----------|--------------|----------------|
| Gen 0     | Новые объекты | Часто          |
| Gen 1     | Среднесрочные | Средне         |
| Gen 2     | Долговечные   | Редко          |

Принцип работы:

1. Объекты создаются в куче.
2. GC периодически проверяет, какие объекты ещё используются.
3. Объекты без ссылок помечаются как «сборка мусора».
4. Память освобождается и может быть занята новыми объектами.

---

## Схема работы GC

```mermaid
flowchart TD
    A[Создание объекта] --> B{Объект используется?}
    B -- Да --> C[Остается в памяти]
    B -- Нет --> D[Кандидат на сборку]
    D --> E{Поколение объекта?}
    E -- Gen 0 --> F[Сборка Gen 0]
    E -- Gen 1 --> G[Сборка Gen 1]
    E -- Gen 2 --> H[Сборка Gen 2]
    F --> I[Память освобождена]
    G --> I
    H --> I
    I --> J[Объект удален, память готова для новых объектов]
    C --> K[Объект переживает сборку]
    K --> E
